var XMainWebUI=$.extend({},XMainWebUI);XMainWebUI._tabsMap=null;XMainWebUI.addHrefTab=function(c,a,b){if(!$("#tabs").tabs("exists",c)){$("#tabs").tabs("add",{title:c,href:a,icon:b,closable:true});}else{$("#tabs").tabs("select",c);XMainWebUI.updateHrefTab(a);}};XMainWebUI.addIndexHrefTab=function(b,a){if(!$("#tabs").tabs("exists",b)){$("#tabs").tabs("add",{title:b,href:a,closable:false});}else{$("#tabs").tabs("select",b);XMainWebUI.updateHrefTab(a);}};XMainWebUI.updateHrefTab=function(b){var a=$("#tabs").tabs("getSelected");$("#tabs").tabs("update",{tab:a,options:{href:b}});};XMainWebUI.addTab=function(d,a,b,e){var c=$("#tabs");if(e&&e!=""){c=$("#"+e);}if(c.attr("id")!=undefined){b=b?b:"";if(!c.tabs("exists",d)){c.tabs("add",{title:d,content:"",icon:b,closable:true});}else{c.tabs("select",d);}if(a&&a+""!=""){top.document.all.centerFrame.src=a;}}};XMainWebUI.addIndexTab=function(d,a,b,e){var c=$("#tabs");if(e&&e!=""){c=$("#"+e);}if(c.attr("id")!=undefined){b=b?b:"";if(!c.tabs("exists",d)){c.tabs("add",{title:d,content:"",icon:b,closable:false});}else{c.tabs("select",d);}if(a&&a+""!=""){top.document.all.centerFrame.src=a;}}};XMainWebUI.selectTabFn=function(id,cbfn){var _tab=$("#tabs");if(id&&id!=""){_tab=$("#"+id);}if(_tab.attr("id")!=undefined){var _func=null;_tab.tabs({border:false,onSelect:function(title){_func=eval(cbfn);if(_func){_func(title);}}});}};XMainWebUI.loadTabs=function(b,c){if(b){var a=null;if(!c){XMainWebUI.removeTabs("");}XMainWebUI._tabsMap=null;setTimeout(function(){$.getJSON(b,function(d){if(d+""!="null"){XMainWebUI._tabsMap=new ExtCommWebUI.HashMap();$.each(d,function(e,f){XMainWebUI._tabsMap.put(f.title,f.url);if(e==0){a=f.url;XMainWebUI.addIndexTab(f.title,"",f.icon,"");if(c){return false;}}else{XMainWebUI.addTab(f.title,"",f.icon,"");}});XMainWebUI.submitUrlTab(a);XMainWebUI.dynaSelectTab("");}});},1);}};XMainWebUI.removeTabs=function(d){var c=$("#tabs");if(d&&d!=""){c=$("#"+d);}if(c.attr("id")!=undefined){var b=c.tabs("tabs");if(b){for(var a=(b.length-1);a>-1;a--){c.tabs("close",b[a].panel("options").title);}}}};XMainWebUI.dynaSelectTab=function(b){var a=$("#tabs");if(b&&b!=""){a=$("#"+b);}if(a.attr("id")!=undefined){a.tabs({border:false,onSelect:function(c){if(XMainWebUI._tabsMap!=null){XMainWebUI.submitUrlTab(XMainWebUI._tabsMap.get(c));}}});}};XMainWebUI.submitUrlTab=function(a){if(a){var b=top.document.all.centerFrame;if(a!=b.src){b.src=a;}}};XMainWebUI.addReloadTabsTool=function(b){var a=$("#tabs");if(b&&b!=""){a=$("#"+b);}a.tabs({fit:true,border:false,tools:[{iconCls:"icon-reload",handler:function(){var f=a.tabs("getSelected").panel("options").href;if(f){var g=a.tabs("getTabIndex",a.tabs("getSelected"));a.tabs("getTab",g).panel("refresh");}else{if(top.document.all.centerFrame){var k=top.document.all.centerFrame;k.src=k.src;}else{var d=a.tabs("getSelected").panel("panel");var k=d.find("iframe");try{if(k.length>0){for(var h=0,c=k.length;h<c;h++){k[h].contentWindow.document.write("");k[h].contentWindow.close();k[h].src=k[h].src;}if($.browser.msie){CollectGarbage();}}}catch(j){}}}}}]});};XMainWebUI.addTabsTool=function(a,b,d){var c=$("#tabs");if(d&&d!=""){c=$("#"+d);}if(a&&b){c.tabs({fit:true,border:false,tools:[{iconCls:b,handler:function(){this.href=a;}}]});}};